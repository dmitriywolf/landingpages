document.addEventListener("DOMContentLoaded",()=>{(()=>{const e=document.getElementById("header"),t=document.getElementById("intro");let o=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop;window.addEventListener("scroll",()=>{o=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop,n>o?e.classList.add("fixed","animated","fadeInDown"):e.classList.remove("fixed","fadeInDown")})})();!function(e,t,o){const n=document.querySelectorAll(e),s=document.querySelector(t),l=document.querySelector(o),r=function(){const e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return e.remove(),t}();n.forEach(e=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),s.classList.add("show","animated"),document.body.style.overflow="hidden",document.body.style.marginRight=r+"px"})}),l.addEventListener("click",()=>{s.classList.remove("show"),document.body.style.overflow="",document.body.style.marginRight="0px"}),s.addEventListener("click",e=>{e.target===s&&(s.classList.remove("show"),document.body.style.overflow="",document.body.style.marginRight="0px")})}(".button--request",".popup--request",".popup--request .popup__close");(()=>{const e=document.querySelector(".pageup");window.addEventListener("scroll",()=>{document.documentElement.scrollTop>1700?(e.classList.add("fadeIn"),e.classList.remove("fadeOut")):(e.classList.add("fadeOut"),e.classList.remove("fadeIn"))});const t=document.documentElement,{body:o}=document,n=document.querySelectorAll('[href^="#"]'),s=(e,n,s)=>{let l,r;r=n>e?30:-30;const c=setInterval(()=>{const d=Math.round(o.scrollTop||t.scrollTop);l===d||n>e&&d>=n||n<e&&d<=n?(clearInterval(c),history.replaceState(history.state,document.title,location.href.replace(/#.*$/g,"")+s)):(o.scrollTop+=r,t.scrollTop+=r,l=d)},1)};n.forEach(e=>{e.addEventListener("click",(function(n){console.log(e.hash);const l=Math.round(o.scrollTop||t.scrollTop);if(""!==this.hash){n.preventDefault();let e=document.querySelector(this.hash),t=0;for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;t=Math.round(t),s(l,t,this.hash)}}))})})();(()=>{const e={type:"carousel",startAt:1,perView:1},t={type:"carousel",startAt:1,perView:1,focusAt:"center"};new Glide(".glide-reviews",e).mount(),new Glide(".glide-instructors--first",e).mount(),new Glide(".glide-instructors--second",e).mount(),new Glide(".glide-features",t).mount(),new Glide(".glide-program",t).mount()})();(()=>{const e=document.querySelector(".popup--request"),t=document.querySelector("form"),o=t.querySelectorAll("input");let n=new FormData(t);const s="Загрузка...",l="Спасибо! Мы ответим Вам в течении 5 минут",r="Извините! Что-то пошло не так...";t.addEventListener("submit",(function(c){c.preventDefault();let d=document.createElement("p");d.classList.add("answer"),d.textContent=s,t.appendChild(d),async function(e,t){const o=await fetch(""+e,{method:"POST",body:t});if(!o.ok)throw new Error(`Could not fetch ${e}, status: ${o.status}`);return await o.text()}("./server.php",n).then(e=>{console.log(e),d.textContent=l}).catch(e=>{console.error(e),d.textContent=r}).finally(()=>{o.forEach(e=>{e.value=""}),setTimeout(()=>{d.remove(),e.classList.remove("show"),document.body.style.overflow="",document.body.style.marginRight="0px"},3e3)})}))})()});