document.addEventListener("DOMContentLoaded",()=>{(()=>{const e=document.getElementById("header"),t=document.getElementById("intro");let o=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop;window.addEventListener("scroll",()=>{o=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop,n>o?e.classList.add("fixed","animated","fadeInDown"):e.classList.remove("fixed","fadeInDown")})})();(()=>{const e=document.querySelector(".pageup");window.addEventListener("scroll",()=>{document.documentElement.scrollTop>1700?(e.classList.add("fadeIn"),e.classList.remove("fadeOut")):(e.classList.add("fadeOut"),e.classList.remove("fadeIn"))});const t=document.documentElement,{body:o}=document,n=document.querySelectorAll('[href^="#"]'),c=(e,n,c)=>{let s,l;l=n>e?30:-30;const a=setInterval(()=>{const d=Math.round(o.scrollTop||t.scrollTop);s===d||n>e&&d>=n||n<e&&d<=n?(clearInterval(a),history.replaceState(history.state,document.title,location.href.replace(/#.*$/g,"")+c)):(o.scrollTop+=l,t.scrollTop+=l,s=d)},1)};n.forEach(e=>{e.addEventListener("click",(function(n){console.log(e.hash);const s=Math.round(o.scrollTop||t.scrollTop);if(""!==this.hash){n.preventDefault();let e=document.querySelector(this.hash),t=0;for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;t=Math.round(t),c(s,t,this.hash)}}))})})();!function(e,t){const o=document.querySelectorAll(e),n=document.querySelectorAll(t);let c;function s(){o.forEach(e=>{e.classList.remove("active")}),this.classList.add("active"),c=this.getAttribute("data-tab-name"),function(e){n.forEach(t=>{t.classList.contains(e)?t.classList.add("active","animated","zoomIn"):t.classList.remove("active","zoomIn")})}(c)}o.forEach(e=>{e.addEventListener("click",s)})}(".nav-tab",".tab-content");!function(e,t,o){const n=document.querySelectorAll(e),c=document.querySelector(t),s=document.querySelector(o),l=document.querySelectorAll(".popup"),a=function(){const e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return e.remove(),t}();n.forEach(e=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),l.forEach(e=>{e.classList.remove("show")}),c.classList.add("show","animated"),document.body.style.overflow="hidden",document.body.style.marginRight=a+"px"})}),s.addEventListener("click",()=>{c.classList.remove("show"),document.body.style.overflow="",document.body.style.marginRight="0px"}),c.addEventListener("click",e=>{e.target===c&&(l.forEach(e=>{e.classList.remove("show")}),c.classList.remove("show"),document.body.style.overflow="",document.body.style.marginRight="0px")})}(".button--callback",".popup--callback",".popup--callback .popup__close");(()=>{const e={type:"carousel",startAt:0,perView:3,breakpoints:{990:{perView:2},575:{perView:1}}};new Glide(".glide--thanks-federal",e).mount(),new Glide(".glide--thanks-parents",e).mount()})();(()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll("input");document.querySelectorAll('input[type="tel"]').forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/\D/,"")})});const o="Загрузка...",n="Спасибо! Мы ответим Вам в течении 60 секунд",c="Извините! Что-то пошло не так...",s="./img/loading.gif",l="./img/success.png";e.forEach(e=>{e.addEventListener("submit",a=>{a.preventDefault();const d=document.createElement("div");d.classList.add("popup--answer","animated","flipInX"),document.body.append(d);const r=document.createElement("img");r.setAttribute("src",s),d.append(r);const i=document.createElement("p");i.textContent=o,d.append(i);const u=document.createElement("div");u.classList.add("img__failed");(async(e,t)=>{const o=await fetch(e,{method:"POST",body:t});return await o.text()})("./server.php",new FormData(e)).then(e=>{r.setAttribute("src",l),i.textContent=n}).catch(()=>{r.remove(),d.prepend(u),i.textContent=c}).finally(()=>{t.forEach(e=>{e.value=""}),setTimeout(()=>{d.classList.remove("flipInX"),d.classList.add("flipOutX")},4e3)})})})})()});