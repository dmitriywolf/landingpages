document.addEventListener("DOMContentLoaded",()=>{"use strict";(()=>{let e=document.getElementById("header"),t=document.getElementById("intro"),o=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop;window.addEventListener("scroll",()=>{o=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop,n>o?e.classList.add("fixed","animated","fadeInDown"):e.classList.remove("fixed","fadeInDown")})})();(()=>{let e=document.querySelector(".pageup");window.addEventListener("scroll",()=>{document.documentElement.scrollTop>1700?(e.classList.add("fadeIn"),e.classList.remove("fadeOut")):(e.classList.add("fadeOut"),e.classList.remove("fadeIn"))});const t=document.documentElement,o=document.body;let n=document.querySelectorAll('[href^="#"]');const l=(e,n,l)=>{let c,s;s=n>e?30:-30;let a=setInterval((function(){let d=Math.round(o.scrollTop||t.scrollTop);c===d||n>e&&d>=n||n<e&&d<=n?(clearInterval(a),history.replaceState(history.state,document.title,location.href.replace(/#.*$/g,"")+l)):(o.scrollTop+=s,t.scrollTop+=s,c=d)}),1)};n.forEach(e=>{e.addEventListener("click",(function(n){console.log(e.hash);let c=Math.round(o.scrollTop||t.scrollTop);if(""!==this.hash){n.preventDefault();let e=document.querySelector(this.hash),t=0;for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;t=Math.round(t),l(c,t,this.hash)}}))})})();!function(e,t){let o,n=document.querySelectorAll(e),l=document.querySelectorAll(t);function c(){n.forEach(e=>{e.classList.remove("active")}),this.classList.add("active"),o=this.getAttribute("data-tab-name"),function(e){l.forEach(t=>{t.classList.contains(e)?t.classList.add("active","animated","zoomIn"):t.classList.remove("active","zoomIn")})}(o)}n.forEach(e=>{e.addEventListener("click",c)})}(".nav-tab",".tab-content");!function(e,t,o){const n=document.querySelectorAll(e),l=document.querySelector(t),c=document.querySelector(o),s=document.querySelectorAll(".popup"),a=function(){let e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}();n.forEach(e=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),s.forEach(e=>{e.classList.remove("show")}),l.classList.add("show","animated"),document.body.style.overflow="hidden",document.body.style.marginRight=a+"px"})}),c.addEventListener("click",()=>{l.classList.remove("show"),document.body.style.overflow="",document.body.style.marginRight="0px"}),l.addEventListener("click",e=>{e.target===l&&(s.forEach(e=>{e.classList.remove("show")}),l.classList.remove("show"),document.body.style.overflow="",document.body.style.marginRight="0px")})}(".button--callback",".popup--callback",".popup--callback .popup__close");(()=>{const e={type:"carousel",startAt:0,perView:3,breakpoints:{990:{perView:2},575:{perView:1}}};new Glide(".glide--thanks-federal",e).mount(),new Glide(".glide--thanks-parents",e).mount()})();(()=>{let e=document.querySelectorAll("form"),t=document.querySelectorAll("input");document.querySelectorAll('input[type="tel"]').forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/\D/,"")})});const o="Загрузка...",n="Спасибо! Мы ответим Вам в течении 60 секунд",l="Извините! Что-то пошло не так...",c="./img/loading.gif",s="./img/success.png";e.forEach(e=>{e.addEventListener("submit",a=>{a.preventDefault();let d=document.createElement("div");d.classList.add("popup--answer","animated","flipInX"),document.body.append(d);let r=document.createElement("img");r.setAttribute("src",c),d.append(r);let i=document.createElement("p");i.textContent=o,d.append(i);let u=document.createElement("div");u.classList.add("img__failed");(async(e,t)=>{let o=await fetch(e,{method:"POST",body:t});return await o.text()})("./server.php",new FormData(e)).then(e=>{r.setAttribute("src",s),i.textContent=n}).catch(()=>{r.remove(),d.prepend(u),i.textContent=l}).finally(()=>{t.forEach(e=>{e.value=""}),setTimeout(()=>{d.classList.remove("flipInX"),d.classList.add("flipOutX")},4e3)})})})})()});