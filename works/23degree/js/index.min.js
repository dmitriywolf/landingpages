window.addEventListener("DOMContentLoaded",()=>{"use strict";(()=>{let e=document.querySelector("#header"),t=document.querySelector(".intro"),l=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop,o=document.querySelector(".nav"),s=document.querySelector(".burger__wrapper");window.addEventListener("scroll",()=>{l=t.offsetHeight,n=window.pageYOffset||document.documentElement.scrollTop,n>l?e.classList.add("fixed","animated","fadeInDown","show"):e.classList.remove("fixed","fadeInDown","show"),n<l&&o.classList.contains("show")&&e.classList.add("show")}),s.addEventListener("click",t=>{t.preventDefault(),n<l&&e.classList.toggle("show"),o.classList.toggle("show"),s.classList.toggle("burger--close")})})();(e=>{const t=document.querySelector(e);window.addEventListener("scroll",()=>{document.documentElement.scrollTop>1650?(t.classList.add("animated","fadeIn"),t.classList.remove("fadeOut")):(t.classList.add("fadeOut"),t.classList.remove("fadeIn"))});let l=document.querySelectorAll('[href^="#"]');l.forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();let t=document.documentElement.scrollTop,l=this.hash,n=document.querySelector(l).getBoundingClientRect().top,o=null;requestAnimationFrame((function e(s){null===o&&(o=s);let r=s-o,a=n<0?Math.max(t-r/.2,t+n):Math.min(t+r/.2,t+n);document.documentElement.scrollTo(0,a),a!==t+n?requestAnimationFrame(e):location.hash=l}))}))})})(".pageup");(()=>{const e=document.querySelector(".portfolio__nav"),t=e.querySelectorAll("div"),l=e.querySelector(".all"),n=e.querySelector(".exteriors"),o=e.querySelector(".interiors"),s=e.querySelector(".public-interiors"),r=document.querySelector(".portfolio__list"),a=r.querySelectorAll(".all"),c=r.querySelectorAll(".exteriors"),i=r.querySelectorAll(".interiors"),d=r.querySelectorAll(".public-interiors"),u=e=>{a.forEach(e=>{e.style.display="none",e.classList.remove("animated","fadeIn")}),e&&e.forEach(e=>{e.style.display="block",e.classList.add("animated","fadeIn")})};l.addEventListener("click",()=>{u(a)}),n.addEventListener("click",()=>{u(c)}),o.addEventListener("click",()=>{u(i)}),s.addEventListener("click",()=>{u(d)}),e.addEventListener("click",e=>{let l=e.target;l&&"DIV"===l.tagName&&(t.forEach(e=>e.classList.remove("is-active")),l.classList.add("is-active"))})})();(()=>{let e=document.querySelectorAll("form"),t=document.querySelectorAll("input"),l=document.querySelectorAll("textarea");document.querySelectorAll('input[type="tel"]').forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/\D/,"")})});const n="Загрузка...",o="Спасибо! Мы ответим Вам в течении 10 минут",s="Извините! Что-то пошло не так...",r="./img/loading.gif",a="./img/success.png";e.forEach(e=>{e.addEventListener("submit",c=>{c.preventDefault();let i=document.createElement("div");i.classList.add("popup__answer","animated","flipInX"),document.body.append(i);let d=document.createElement("img");d.setAttribute("src",r),i.append(d);let u=document.createElement("p");u.textContent=n,i.append(u);let m=document.createElement("div");m.classList.add("img__failed");(async(e,t)=>{let l=await fetch(e,{method:"POST",body:t});return await l.text()})("./server.php",new FormData(e)).then(e=>{d.setAttribute("src",a),u.textContent=o}).catch(()=>{d.remove(),i.prepend(m),u.textContent=s}).finally(()=>{t.forEach(e=>{e.value=""}),l.forEach(e=>{e.value=""}),setTimeout(()=>{i.classList.remove("flipInX"),i.classList.add("flipOutX")},3e3)})})})})();((e,t,l)=>{let n=1,o=!1,s=document.querySelectorAll(e);function r(e){e>s.length&&(n=1),e<1&&(n=s.length),s.forEach(e=>{e.classList.add("animated"),e.style.display="none"}),s[n-1].style.display="flex"}function a(e){r(n+=e)}r(n);try{let e=document.querySelector(t),o=document.querySelector(l);e.addEventListener("click",()=>{a(-1),s[n-1].classList.remove("zoomOut"),s[n-1].classList.add("zoomIn")}),o.addEventListener("click",()=>{a(1),s[n-1].classList.remove("zoomIn"),s[n-1].classList.add("zoomOut")})}catch(e){}function c(){o=setInterval((function(){a(1),s[n-1].classList.remove("zoomOut"),s[n-1].classList.add("zoomIn")}),4e3)}c(),s[0].parentNode.addEventListener("mouseenter",()=>{clearInterval(o)}),s[0].parentNode.addEventListener("mouseleave",()=>{c()})})(".quote-item-slider");new Glide(".glide",{type:"carousel",startAt:0,perView:5,breakpoints:{1024:{perView:4},768:{perView:3},600:{perView:2},420:{perView:1}}}).mount()});